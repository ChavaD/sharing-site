<!DOCTYPE html>
<html lang="he">

<head>
    <title>מסירת מוצרים</title>
    <link rel="shortcut icon" type="image/ico" href="/public/images/peach.ico" />
    <link rel="stylesheet" type="text/css" href="/css/style for deliverypage.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <meta charset="utf-8">
</head>

<body>
    <div class=container>

        <div class="row">
            <div class="col-xs-3 "></div>
            <div class=" bigRow col-xs-6 ">
                <form class="uploadImage" enctype="multipart/form-data" id="myForm" action="/forDelivery/upload"
                    method="POST">
                    <div class="firstLine col-xs-12"> מסירת מוצר</div>
                    <label class="rowline col-xs-6"> :תיאור המוצר</label> <input class="loginRow col-xs-6" type="text"
                        name='description'><br><br>
                    <label class="rowline col-xs-6"> :קטגוריה</label>
                    <select class="loginRow col-xs-6" name="category">
                        <option value="electricity"> מוצרי חשמל</option>
                        <option value="Furniture"> ריהוט</option>
                        <option value="books"> ספרים </option>
                        <option value="clothes"> בגדים </option>
                        <option value="babies and childrens"> תינוקות וילדים </option>
                        <option value="other"> שונות </option>
                    </select><br><br>
                    <label class="rowline col-xs-6">:טלפון </label>&nbsp;&nbsp;<input class="loginRow col-xs-6"
                        type="text" id="1" name="phoneNumber"><br><br>
                    <label class="rowline col-xs-6">:כתובת </label>&nbsp;&nbsp;<input class="loginRow col-xs-6"
                        type="text" id="2" name="adress"><br><br>
                    <label class="rowline col-xs-6">:דואר אלקטרוני (לא יפורסם) </label>&nbsp;&nbsp;<input
                        class="loginRow col-xs-6" type="text" id="3" name="email"><br><br>
                    <label class="rowline col-xs-6">בחר תמונה</label>&nbsp;&nbsp;<input id="4" class="loginRow col-xs-6"
                        type="file" accept="/images/*" name="image"><br><br>
                    <input type="submit" class="myButton col-xs-3" id="submitBtn " value="פרסום המוצר">
            </div>
            <div class="col-xs-3 "></div>
        </div>
    </div>
    </form>
    <script>
        // listen to click event of the submit button
        $('.uploadImage').submit(function (e) {
            // make sure the form is not submitted
            e.preventDefault();
            // run the form validations
            document.getElementById('myForm').checkValidity();
            // check if the form is valid
            if (document.getElementById('myForm').reportValidity()) {
                // form is valid, create a post request
                $.ajax({
                    type: 'post',
                    url: '/forDelivery/upload',
                    // the user data 
                    data: {
                        picture: $('#4').val(),
                        // fullName: $('#fullName').val(),
                        // email: $('#email').val(),
                        // passWord: $('#passWord').val(),
                        // confirmPassWord: $('#confirmPassWord').val()
                    },
                    complete: // this function will run if the request is successful
                        async function (xhr, status) {

                            // check if there is an error
                            if (status === 'error') {
                                alert(xhr.responseText);
                            } else
                                alert(xhr.responseText);

                        }
                });
            }
        });
    </script>

</body>

</html>